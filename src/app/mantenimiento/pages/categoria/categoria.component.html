<div class="contd-plantilla">
    <!-- Sidebar (Visible en pantallas grandes) -->
    <div class="sbsidebar">
        <div class="ctn2">
            <!-- Contenido del sidebar -->
            <app-sidebar></app-sidebar>
        </div>
    </div>

    <!-- Contenido de la página -->
    <div class="ctn-pagina">
        <div class="containerr">
            <!-- Barra de navegación -->
            <app-navbar></app-navbar>
            <!-- Contenido Principal -->
            <div class="ctnp">
                <div class="card1">
                    <h1>Categoria</h1>
                </div>
                <div class="card">
                    <div>
                        <form (ngSubmit)="crearCategoria()" #categoriaForm="ngForm">
                            <div class="card1">
                                <div class="card flex p-3 mt-4">
                                    <p-button (click)="showDialog()" icon="pi pi-plus" label="Agregar" severity="success"></p-button>
                                    <p-dialog header="Agregar Categoria" [(visible)]="visible"
                                        [breakpoints]="{ '960px': '80vw' }" [modal]="true" [style]="{ width: '50vw' }"
                                        [draggable]="false" [resizable]="false" >
        
                                        <div class="inputgroup " >
                                            <div class="card flex  flex-column ">
                                                <p>Nombre de Categoria</p>
                                                <input pInputText type="text" placeholder="Ingrese el nombre" [(ngModel)]="nuevaCategoria.nombre" name="nombre" required #nombreInput />
                                            </div>
                                            <!----------Checkbox------------>
                                            <div class="contd">
                                                <input type="checkbox" [(ngModel)]="nuevaCategoria.activo" name="activo"
                                                    required hidden />
                                            </div>
                                            <div class="mt-3 flex justify-content-center">
                                                <button type="submit" pButton pRipple label="Crear Categoría"
                                                class="p-button-success " [disabled]="categoriaForm.invalid"></button>
                                            </div>
                                           
                                        </div>
                                    </p-dialog>
                                    
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="sub-card">
                        <p-table [value]="categorias" [tableStyle]="{ 'min-width': '10rem' } " [resizableColumns]="true"
                            [paginator]="true" 
                            [rows]="5" [showCurrentPageReport]="true" scrollHeight="600px"
                            currentPageReportTemplate="Mostrar {first} a {last} de {totalRecords} registros"
                            (onPage)="pageChange($event)"
                            [rowsPerPageOptions]="[10, 25, 50]"

                            styleClass="p-datatable-gridlines" [scrollable]="true">
                            <ng-template pTemplate="header" class="header1">
                                <tr class="ui-table-header">
                                    <th>Código</th>
                                    <th>Nombre</th>
                                    <th>Estado</th>
                                    <th>Opciones</th>
                                </tr>
                            </ng-template>

                            <ng-template pTemplate="body" let-categoria>
                                <tr class="ui-table-contenido">
                                    <td>{{ categoria.idcategoria }}</td>
                                    <td>{{ categoria.nombre }}</td>
                                    <td>{{ categoria.activo ? 'Activo' : 'Inactivo' }}</td>

                                    <td>
                                        <div class="flex justify-content-center">
                                           
                                            <p-button icon="pi pi-power-off" [rounded]="true" severity="danger"
                                                class="ml-3"></p-button>

                                        </div>
                                    </td>

                                </tr>
                            </ng-template>
                        </p-table>
                    </div>

                </div>

                <router-outlet></router-outlet>
                
            </div>
        </div>
    </div>
</div>